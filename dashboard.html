<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="refresh" content="30">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Dashboard - Accelo Mobility</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap">
    <link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css">

    <!-- our css for our real time data -->
    <style>
        
        .flex_container{
            display:flex;
            width:1270px;
        }
        .box{
            
            width: 300px;
            height: 120px; 
            color: whitesmoke;
            text-align: center;
            margin: 10px;
            border: none;
            border: none;
            border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);
        }
    </style>
</head>

<body id="page-top">
    <div id="wrapper">
        <nav class="navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0">
            <div class="container-fluid d-flex flex-column p-0"><a class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0" href="#">
                    
                    <div class="sidebar-brand-text mx-3">
                        <!-- Logo on top left -->
                        <br/><img src="AcceloLogo.png" alt="Accelo Logo" width="130" height="65"/>
                    </div>
                </a>
                <hr class="sidebar-divider my-0">
                <ul class="navbar-nav text-light" id="accordionSidebar">
                    <!-- vehicle png -->
                    <li class="nav-item"><br/><img src="Beast PNG.png" alt="beast Logo"  width="225" height="170></img></li>
                    <li class="nav-item"><text style="text-align: center;"> <text style="font-size:20px;"><b><u>Beast</u></b></text></li>
                    <!-- These all are the details below vehicle's png -->
                    <!-- id -->
                    <li class="nav-item"><text style="text-align: center;"><br/><br/><text style="font-size: 14px;">•<b>id:</b> beast</text></li>
                    <!-- vehicle type -->
                    <li class="nav-item"><text style="text-align: center;"><br/><text style="font-size: 14px;">•<b>vehicle_type:</b> LMV</text></li>
                    <!-- Total Payload -->
                    <li class="nav-item"><text style="text-align: center;"><br/><text style="font-size: 14px;">•<b>Total-payload:</b> 2000 kg</text></li>
                    <!-- Owner -->
                    <li class="nav-item"><text style="text-align: center;"><br/><text style="font-size: 14px;">•<b>Owner:</b> Accelo Mobility</text></li>
                    <!-- Chassis No. -->
                    <li class="nav-item"><text style="text-align: center;"><br/><text style="font-size: 14px;">•<b>Chassis no:</b> SV30-0169266</text></li>
                </ul>
            </div>
        </nav>
        <div class="d-flex flex-column" id="content-wrapper">
            <div id="content">
                <div class="container-fluid">
                    
                    <h3 class="text-dark mb-0">
                        <br>Dashboard</h3>
                        <subheading style="font-size: 18px; color:rgb(189, 182, 182);text-align: left;"></subheading>

                    <!-- container containing real time values of data -->
                    <div class="flex_container">
                        
                        <div class="box" id="voltage">
                            <br />Voltage<br />
                            <voltage_text style="font-size: 40px;" ></voltage_text><br />
                        </div>
                        <div class="box" id="speed">
                            <br />Speed<br />
                            <speed_text style="font-size: 40px;"></speed_text><br />
                        </div>
                        <div class="box" id="current">
                            <br />Current<br />
                            <current_text style="font-size: 40px;"></current_text><br />
                        </div>
                        <div class="box" id="cont_temp">
                            <br />Controller Temperature<br />
                            <controller_temp_text style="font-size: 40px;"></controller_temp_text><br />
                        </div>
						<div class="box" id="motor_temp">
                            <br />Motor Temperature<br />
                            <motor_temperature_text style="font-size: 40px;"></motor_temperature_text><br />
                        </div>
						<div class="box" id="wire_temp">
                            <br />Wire Temperature<br />
                            <wire_temperature_text style="font-size:40px;"></wire_temperature_text><br />
                        </div>
                        
                    </div>
                    <!-- this is our data from mongodb -->
                    <table cellpadding="10" cellspacing="13">
                        <tr>
                            <td>
                                <!-- rpm x speed -->
                                <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="255" height="250" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63c934f7-cc24-43ce-8118-b7f44234dc49&maxDataAge=10&theme=light&autoRefresh=true"></iframe>
                            </td>
                            <td>
                                 <!-- rpm x motor temp -->
                                <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="255" height="250" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63c912e9-a703-478a-87db-3abf05a2e759&maxDataAge=10&theme=light&autoRefresh=true"></iframe>

                            </td>
                            <td>
                                <!-- current x voltage -->
                                <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="255" height="250" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63c913b3-7fb8-4649-8c01-329c6c6d1b00&maxDataAge=10&theme=light&autoRefresh=true"></iframe>
                            </td>
                            <td rowspan="3">
                                <!-- gps position -->
                                <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="424" height="809" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63c90e76-a703-4c59-83fc-3abf05a08c05&maxDataAge=60&theme=light&autoRefresh=true"></iframe>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <!-- current x wire temp -->
                                <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="255" height="250" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63c94109-e13e-49f2-8953-90c76eaf39cd&maxDataAge=10&theme=light&autoRefresh=true"></iframe>
                            </td>
                            <td>
                                 <!-- voltage x time -->
                                <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="255" height="250" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63c903c3-e13e-4dcf-8aff-90c76e87d3ae&maxDataAge=10&theme=light&autoRefresh=true"></iframe>
                            </td>
                            <td>
                                <!--vehicle speed (speed x time)  -->
                                <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="255" height="250" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63c901c9-23d1-4180-8884-81a842a80df6&maxDataAge=10&theme=light&autoRefresh=true"></iframe>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <!-- time x wire temperature -->
                                <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="255" height="250" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63cf9b8f-cd93-4912-8aa1-276dd20ed8e4&maxDataAge=10&theme=light&autoRefresh=true"></iframe>
                            </td>
                            <td>
                                <!-- time x constant temperature -->
                                <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="255" height="250" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63cf9bbc-870a-4d2b-8658-ae4b2c12d060&maxDataAge=10&theme=light&autoRefresh=true"></iframe>
                            </td>
                            <td>
                                <!-- time x motor temperature -->
                                <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="255" height="250" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63cf9c0d-e246-4013-8731-79eb55feb3c4&maxDataAge=10&theme=light&autoRefresh=true"></iframe>
                            </td>
                        </tr>
                    </table>
                    <!-- Max Values -->
                    <div class="flex_container">
                        
                        <div class="box">
                            <!-- Max Voltage -->
                            <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="190" height="120" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63d51bf8-7df1-4bb3-828e-8dfadeceb0f3&maxDataAge=3600&theme=light&autoRefresh=true"></iframe>
                        </div>
                        <div class="box">
                            <!-- Max Speed -->
                            <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="190" height="120" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63d519b0-4d04-451a-8e5c-d900bb1a68b9&maxDataAge=3600&theme=light&autoRefresh=true"></iframe>
                        </div>
                        <div class="box">
                            <!-- Max Current -->
                            <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="190" height="120" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63d51a72-9000-457e-859e-266f748e3569&maxDataAge=3600&theme=light&autoRefresh=true"></iframe>
                        </div>

                        <div class="box">
                            <!-- Max Motor Temperature -->
                            <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="190" height="120" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63d51926-4d04-4cb5-8cb9-d900bb1a295e&maxDataAge=3600&theme=light&autoRefresh=true"></iframe>
                        </div>
                        <div class="box">
                            <!-- Max Controller Temperature -->
                            <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="190" height="120" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63d51b54-7a1a-4afe-8618-34b2a9823c28&maxDataAge=3600&theme=light&autoRefresh=true"></iframe>
                        </div>
                        <div class="box">
                            <!-- Max Wire Temperature -->
                            <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="190" height="120" src="https://charts.mongodb.com/charts-project-0-llped/embed/charts?id=63d51b9d-78bf-40c7-8199-49f907a2463a&maxDataAge=3600&theme=light&autoRefresh=true"></iframe>
                        </div>
                    
                </div>
                </div>
            </div>
            
            <footer class="bg-white sticky-footer">
                <div class="container my-auto">
                    <div class="text-center my-auto copyright"><span>Copyright © Accelo Mobility 2023</span></div>
                </div>
            </footer>
        </div><a class="border rounded d-inline scroll-to-top" href="#page-top"><i class="fas fa-angle-up"></i></a>
    </div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/chart.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="assets/js/theme.js"></script>

    <!-- live voltage data -->
    <script type="text/javascript">
               
        fetch('https://fabfest.theacceloguy.com/backend/recent/beast')
        .then(
            res => {
                
                return res.json();
            })
        .then(
            data => {
                    
                console.log(data);
                data.body.beast.forEach(beast => {
                    const markup = `${beast.v}`;
                    
                    document.querySelector('voltage_text').insertAdjacentHTML("beforeend", markup);

                    //conditional box color change of voltage real time data
                    if (markup < 65)
                    {
                        document.getElementById("voltage").style.backgroundColor = "#ad0000"; //red
                    }
                    else
                    {
                        document.getElementById("voltage").style.backgroundColor = "#129f31"; //green
                    }
                });
            }
        )
        .catch(error => console.log(error));
    
    </script>

    <!-- live current data -->
    <script type="text/javascript">

        fetch('https://fabfest.theacceloguy.com/backend/recent/beast')
        .then(
            res => {
                return res.json();
            })
        .then(
            data => {

                console.log(data);
                data.body.beast.forEach(beast => {
                    const markup = `${beast.c}`;
                    document.querySelector('current_text').insertAdjacentHTML("beforeend", markup);

                    //conditional box color change of current real time data
                    if (markup > 150)
                    {
                        document.getElementById("current").style.backgroundColor = "#ad0000"; //red
                    }
                    else
                    {
                        document.getElementById("current").style.backgroundColor = "#129f31"; //green
                    }
                });
            }
        )
        .catch(error => console.log(error)); 

    </script>

    <!-- live speed data -->
    <script type="text/javascript">

        fetch('https://fabfest.theacceloguy.com/backend/recent/beast')
        .then(
            res => {
                return res.json();
            })
        .then(
            data => {

                console.log(data);
                data.body.beast.forEach(beast => {
                    const markup = `${beast.s}`;
                    document.querySelector('speed_text').insertAdjacentHTML("beforeend", markup);

                    //conditional box color change of speed real time data
                    if (markup > 60)
                    {
                        document.getElementById("speed").style.backgroundColor = "#ad0000"; //red
                    }
                    else
                    {
                        document.getElementById("speed").style.backgroundColor = "#129f31"; //green
                    }
                });
            }
        )
        .catch(error => console.log(error));

    </script>

    <!-- live controller_temp data -->
    <script type="text/javascript">
               
        fetch('https://fabfest.theacceloguy.com/backend/recent/beast')
        .then(
            res => {
                
                return res.json();
            })
        .then(
            data => {
                    
                console.log(data);
                data.body.beast.forEach(beast => {
                    const markup = `${beast.c_t}`;
                    document.querySelector('controller_temp_text').insertAdjacentHTML("beforeend", markup);

                    //conditional box color change of controller temperature real time data
                    if (markup > 50)
                    {
                        document.getElementById("cont_temp").style.backgroundColor = "#ad0000"; //red
                    }
                    else if (markup > 40 ) 
                    {
                        document.getElementById("cont_temp").style.backgroundColor = "#F78702"; //orange
                    }
                    else
                    {
                        document.getElementById("cont_temp").style.backgroundColor = "#129f31"; //green
                    }
                });
            }
        )
        .catch(error => console.log(error));
    
    </script>

	<!-- live motor temperature data -->
    <script type="text/javascript">
                
            fetch('https://fabfest.theacceloguy.com/backend/recent/beast')
            .then(
                res => {
                    
                    return res.json();
                })
            .then(
                data => {
                        
                    console.log(data);
                    data.body.beast.forEach(beast => {
                        const markup = `${beast.m_t}`;
                        document.querySelector('motor_temperature_text').insertAdjacentHTML("beforeend", markup);

                        //conditional box color change of motor temperature real time data
                        if (markup > 50)
                        {
                            document.getElementById("motor_temp").style.backgroundColor = "#ad0000"; //red
                        }
                        else if (markup > 40 ) 
                        {

                            document.getElementById("motor_temp").style.backgroundColor = "#F78702"; //orange

                        }
                        else
                        {
                            document.getElementById("motor_temp").style.backgroundColor = "#129f31"; //green
                        }
                        });
                }
            )
            .catch(error => console.log(error));
        
    </script>

    <!-- live wire temperature data -->
    <script type="text/javascript">         

            fetch('https://fabfest.theacceloguy.com/backend/recent/beast')
            .then(
                res => {
                    
                    return res.json();
                })
            .then(
                data => {
                        
                    console.log(data);
                    data.body.beast.forEach(beast => {
                        const markup = `${beast.w_t}`;
                        document.querySelector('wire_temperature_text').insertAdjacentHTML("beforeend", markup);

                        //conditional box color change of wire temperature real time data
                        if (markup > 50)
                        {
                            document.getElementById("wire_temp").style.backgroundColor = "#ad0000"; //red
                        }
                        else if (markup > 40 ) {

                            document.getElementById("wire_temp").style.backgroundColor = "#F78702"; //orange
                            
                        }
                        else
                        {
                            document.getElementById("wire_temp").style.backgroundColor = "#129f31"; //green
                        }
                        
                    });
                }
            ) 
            .catch(error => console.log(error));
         
    </script>

    <!-- live number of satellites data -->
    <script type="text/javascript">         

        fetch('https://fabfest.theacceloguy.com/backend/recent/beast')
        .then(
            res => {
                
                return res.json();
            })
        .then(
            data => {
                    
                console.log(data);
                data.body.beast.forEach(beast => {
                    const markup = `${beast.ns}`;
                    document.querySelector('satllite_text').insertAdjacentHTML("beforeend", markup);
                });
            }
        ) 
        .catch(error => console.log(error));
     
    </script>

    <!-- id of our vehicle -->
    <script type="text/javascript">         

        fetch('https://fabfest.theacceloguy.com/backend/recent/beast')
        .then(
            res => {
                
                return res.json();
            })
        .then(
            data => {
                    
                console.log(data);
                data.body.beast.forEach(beast => {
                    const markup = `${beast.id}`;
                    document.querySelector('subheading').insertAdjacentHTML("beforeend", markup);
                });
            }
        ) 
        .catch(error => console.log(error));
     
    </script>

</body>
</html>